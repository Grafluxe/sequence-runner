/*github.com/Grafluxe/sequence-runner*/
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),SequenceRunner=function(){function t(e){_classCallCheck(this,t);var n={selector:".sequence-runner",content:".",duplicate:3,delay:500,loop:null};for(var s in e)if(!n.hasOwnProperty(s))throw new Error("You're attempting to define a setting that does not exist.");return this._settings=Object.assign(n,e),this._elements=document.querySelectorAll(this._settings.selector),this._settings.content instanceof Array&&(e.duplicate&&console.warn("The 'duplicate' property should not be used when 'content' is an array."),this._isArray=!0,this._settings.duplicate=this._settings.content.length),this.stop(),this}return _createClass(t,[{key:"start",value:function(){return this._currContent="",this._count=0,this._loop=0,this.stop(),this._onInterate(),this._intr=setInterval(this._onInterate.bind(this),this._settings.delay),this}},{key:"_onInterate",value:function(){var t=this;this._count>=this._settings.duplicate&&(this._count=0,this._isArray||(this._currContent="")),this._isArray?this._currContent=this._settings.content[this._count]:this._currContent+=this._settings.content,this._elements.forEach(function(e){return e.innerHTML=t._currContent}),this._onChangeFn&&this._onChangeFn(this._currContent,this._count,this._loop),this._settings.loop&&(this._count>=this._settings.duplicate-1&&this._loop++,this._loop>=this._settings.loop&&(this.pause(),this._onCompleteFn&&this._onCompleteFn(this._currContent,this._count,this._loop))),this._count++}},{key:"pause",value:function(){return clearInterval(this._intr),this}},{key:"stop",value:function(){return clearInterval(this._intr),this._elements.forEach(function(t){return t.innerHTML=""}),this}},{key:"onChange",value:function(t){return this._onChangeFn=t,this}},{key:"onComplete",value:function(t){return this._onCompleteFn=t,this}},{key:"settings",get:function(){return this._settings}}]),t}();"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=SequenceRunner);